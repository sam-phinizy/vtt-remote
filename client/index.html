<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#e94560">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>VTT Remote</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="assets/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="assets/icon.svg">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- Pairing Screen -->
    <section id="pairing-screen" class="screen active">
      <h1>VTT Remote</h1>
      <form id="pairing-form">
        <div class="input-group">
          <label for="room-code">Room Code</label>
          <input
            type="text"
            id="room-code"
            name="roomCode"
            placeholder="e.g., GAME1"
            autocomplete="off"
            autocapitalize="characters"
            required
          >
        </div>
        <div class="input-group">
          <label for="pairing-code">Pairing Code</label>
          <input
            type="text"
            id="pairing-code"
            name="pairingCode"
            placeholder="e.g., 5599"
            inputmode="numeric"
            pattern="[0-9]{4}"
            maxlength="4"
            autocomplete="off"
            required
          >
        </div>
        <button type="submit" id="connect-btn">Connect</button>
      </form>
      <p id="status-message" class="status"></p>
    </section>

    <!-- Control Screen -->
    <section id="control-screen" class="screen">
      <header>
        <span id="actor-name">Token Name</span>
        <button id="disconnect-btn" class="icon-btn" title="Disconnect">×</button>
      </header>

      <!-- Tab Navigation -->
      <nav class="screen-tabs">
        <button class="tab active" data-tab="dpad">D-Pad</button>
        <button class="tab" data-tab="info">Info</button>
      </nav>

      <!-- D-Pad Tab Content -->
      <div id="dpad-content" class="tab-content active">
        <div id="dpad" class="dpad">
          <button class="dpad-btn" data-dir="up" aria-label="Move Up">▲</button>
          <button class="dpad-btn" data-dir="left" aria-label="Move Left">◀</button>
          <button class="dpad-btn" data-dir="right" aria-label="Move Right">▶</button>
          <button class="dpad-btn" data-dir="down" aria-label="Move Down">▼</button>
        </div>
      </div>

      <!-- Info Tab Content -->
      <div id="info-content" class="tab-content">
        <div class="actor-portrait">
          <img id="actor-portrait" src="" alt="Actor portrait">
        </div>

        <div class="resources" id="resources-container">
          <!-- Dynamically populated -->
        </div>

        <div class="stats" id="stats-container">
          <!-- Dynamically populated -->
        </div>

        <div class="conditions" id="conditions-container">
          <!-- Dynamically populated -->
        </div>

        <div class="abilities" id="abilities-container">
          <!-- Dynamically populated: weapons, spells, features, consumables -->
        </div>

        <p id="no-info-message" class="notes">No actor info available</p>
      </div>

      <!-- Confirm Ability Dialog -->
      <div id="confirm-dialog" class="confirm-dialog hidden">
        <div class="confirm-dialog-content">
          <h3 id="confirm-title">Use Ability?</h3>
          <p id="confirm-description"></p>
          <div class="confirm-buttons">
            <button id="confirm-cancel" class="confirm-btn cancel">Cancel</button>
            <button id="confirm-use" class="confirm-btn use">Use</button>
          </div>
        </div>
      </div>

      <footer>
        <span id="connection-status" class="connected">Connected</span>
      </footer>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
